{"version":3,"sources":["kernel/editors/catalog-manager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,sCAAiD;AAGjD,yEAAsE;AAEtE,oDAAkD;AAClD,iDAAgD;AAGhD;IAA6C,kCAAa;IAetD,wBAAsB,OAAgB;QAAtC,YACI,iBAAO,SACV;QAFqB,aAAO,GAAP,OAAO,CAAS;QAbtC,eAAS,GAAW,CAAC,CAAC;QACtB,eAAS,GAAW,CAAC,CAAC;QACtB,EAAE;QACO,aAAO,GAAY,IAAI,CAAC;QACxB,cAAQ,GAAY,IAAI,CAAC;QACzB,eAAS,GAAY,IAAI,CAAC;QAC1B,eAAS,GAAY,IAAI,CAAC;QAC1B,iBAAW,GAAY,IAAI,CAAC;QAC5B,gBAAU,GAAY,IAAI,CAAC;QAC3B,sBAAgB,GAAY,IAAI,CAAC;;IAM1C,CAAC;IAED,oCAAW,GAAX;QACI,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;IACjC,CAAC;IAED,kCAAS,GAAT,UAAU,OAAe,EAAE,IAAY;QACnC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,oCAAW,GAAX,UAAY,KAAU;QAClB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;QAC/B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;QAC1D,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACnC,CAAC;IAED,6BAA6B;IAC7B,oCAAW,GAAX,UAAY,MAAkB;QAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC7D,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,mBAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;gBAClD,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,KAAK,IAAI,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC;gBAC7D,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACtC,CAAC;QACL,CAAC;IACL,CAAC;IAEL,qBAAC;AAAD,CA3CA,AA2CC,CA3C4C,8BAAa,GA2CzD;AAtCY;IAAR,YAAK,EAAE;;+CAAyB;AACxB;IAAR,YAAK,EAAE;;gDAA0B;AACzB;IAAR,YAAK,EAAE;;iDAA2B;AAC1B;IAAR,YAAK,EAAE;;iDAA2B;AAC1B;IAAR,YAAK,EAAE;;mDAA6B;AAC5B;IAAR,YAAK,EAAE;;kDAA4B;AAC3B;IAAR,YAAK,EAAE;;wDAAkC;AAEN;IAAnC,gBAAS,CAAC,mDAAuB,CAAC;8BAAU,mDAAuB;+CAAC;AAbnD,wCAAc","file":"catalog-manager.js","sourcesContent":["import { ViewChild, Input } from '@angular/core';\r\n//\r\nimport { Context } from '../context';\r\nimport { CatalogManagerComponent } from './catalog-manager.component';\r\nimport { CatalogOptions } from '../custom/custom-catalog';\r\nimport { BaseComponent } from '../base-component';\r\nimport { Policies } from '../security/policies';\r\nimport { PolicyInfo } from '../security/policy';\r\n\r\nexport abstract class CatalogManager extends BaseComponent {\r\n    errorMessage: string;\r\n    pageIndex: number = 0;    \r\n    totalRows: number = 0;\r\n    //\r\n    @Input() enabled: boolean = true;\r\n    @Input() allowNew: boolean = true;\r\n    @Input() allowView: boolean = true;\r\n    @Input() allowEdit: boolean = true;\r\n    @Input() allowDelete: boolean = true;\r\n    @Input() allowClone: boolean = true;\r\n    @Input() allowChangeState: boolean = true;\r\n    //\r\n    @ViewChild(CatalogManagerComponent) manager: CatalogManagerComponent;\r\n\r\n    constructor(protected context: Context) {\r\n        super();\r\n    }\r\n\r\n    refreshList() {\r\n        this.manager.triggerSearch();\r\n    }\r\n\r\n    showAlert(message: string, type: string) {\r\n        this.manager.showAlert(message, type);\r\n    }\r\n\r\n    handleError(error: any) {\r\n        this.context.app.hideSpinner();        \r\n        this.errorMessage = error.message ? error.message : error;\r\n        console.log(this.errorMessage);\r\n    }\r\n\r\n    //Implementación de políticas\r\n    applyPolicy(policy: PolicyInfo): void {\r\n        if (this.allowPolicies && !this.isPolicyApplied(policy.nombre)) {\r\n            if (policy.nombre.toLowerCase() == Policies.enabled) {\r\n                this.manager.enabled = policy.valor == \"true\" ? true : false;\r\n                this.appliedPolicies.push(policy);\r\n            }\r\n        }\r\n    }\r\n\r\n}"]}