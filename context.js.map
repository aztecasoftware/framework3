{"version":3,"sources":["kernel/context.ts"],"names":[],"mappings":"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","file":"context.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { UsuarioInfo } from './security/usuario';\r\nimport { SessionInfo } from './security/session';\r\nimport { EmpresaInfo } from './security/empresa';\r\nimport { SucursalInfo } from './security/sucursal';\r\n\r\n@Injectable()\r\nexport class Context {\r\n    private _session: SessionInfo = null;\r\n    private _application: Application = new Application();\r\n\r\n    get app(): Application {\r\n        return this._application;\r\n    }\r\n\r\n    get session(): SessionInfo {\r\n        if (this._session != null) {\r\n            return this._session;\r\n        }\r\n        else {\r\n            let storedSession:string = sessionStorage.getItem('session');\r\n            if (storedSession != null) {\r\n                this._session = JSON.parse(storedSession);\r\n                return this._session;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    get kernelImagesPath() {\r\n        return \"img/kernel/\";\r\n    }\r\n\r\n    get fileServerPath() {\r\n        return 'file-server/';\r\n    }\r\n\r\n    setSession(session: SessionInfo) {\r\n        this._session = session;\r\n        sessionStorage.setItem('session', JSON.stringify(session));\r\n    }\r\n\r\n    clearSession(session: SessionInfo) {\r\n        this._session = null;\r\n        sessionStorage.removeItem('session');\r\n    }\r\n}\r\n\r\nclass Application {\r\n    private _defaultCompany: EmpresaInfo = null;\r\n    private _defaultSite: SucursalInfo = null;\r\n    private _isLoading: boolean = false;\r\n\r\n    get isLoading(): boolean {\r\n        return this._isLoading;\r\n    }\r\n\r\n    get defaultCompany(): EmpresaInfo {\r\n        if (this._defaultCompany != null) {\r\n            return this._defaultCompany;\r\n        }\r\n        else {\r\n            let storedCompany: string = sessionStorage.getItem('defaultCompany');\r\n            if (storedCompany != null) {\r\n                this._defaultCompany = JSON.parse(storedCompany);\r\n                return this._defaultCompany;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }        \r\n    }\r\n\r\n    get defaultSite(): SucursalInfo {\r\n        if (this._defaultSite != null) {\r\n            return this._defaultSite;\r\n        }\r\n        else {\r\n            let storedSite: string = sessionStorage.getItem('defaultSite');\r\n            if (storedSite != null) {\r\n                this._defaultSite = JSON.parse(storedSite);\r\n                return this._defaultSite;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }        \r\n    }\r\n\r\n    showSpinner() {\r\n        this._isLoading = true;\r\n    }\r\n\r\n    hideSpinner() {\r\n        this._isLoading = false;\r\n    }\r\n\r\n    setDefaultCompany(company: EmpresaInfo) {\r\n        this._defaultCompany = company;\r\n        sessionStorage.setItem('defaultCompany', JSON.stringify(company));\r\n    }\r\n\r\n    setDefaultSite(site: SucursalInfo) {\r\n        this._defaultSite = site;\r\n        sessionStorage.setItem('defaultSite', JSON.stringify(site));\r\n    }\r\n\r\n    get defaultWidth(): string {\r\n        return \"col-xs-12 col-md-10 col-lg-10\";\r\n    }\r\n}\r\n\r\n"]}