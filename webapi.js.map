{"version":3,"sources":["../../Scripts/app/kernel/webapi.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAA0C;AAC1C,sCAAyF;AAGzF,uCAAqC;AAGrC,IAAa,UAAU;IAGnB,oBAAoB,IAAS,EAAS,GAAW,EAAU,SAAiB;QAAxD,SAAI,GAAJ,IAAI,CAAK;QAAS,QAAG,GAAH,GAAG,CAAQ;QAAU,cAAS,GAAT,SAAS,CAAQ;QAFpE,sBAAiB,GAAG,kBAAkB,CAAC;IAI/C,CAAC;IAED,0BAAK,GAAL,UAAM,MAAuB;QACzB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,4BAAO,GAAP,UAAQ,MAAc,EAAE,MAAuB;QAC3C,IAAI,OAAO,GAAG,IAAI,cAAO,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAClE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,8BAA8B,CAAC,CAAC;QACzD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC;YAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzF,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QACvE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,MAAM,EAAE,OAAO,CAAC,CAAC;IAC3D,CAAC;IAGD,6BAAQ,GAAR,UAAS,MAAc,EAAE,MAAuB,EAAE,IAAS;QACvD,IAAI,OAAO,GAAG,IAAI,cAAO,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAClE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,8BAA8B,CAAC,CAAC;QACzD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC;YAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzF,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;QACvE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;IAClF,CAAC;IAED,2BAAM,GAAN,UAAO,MAAc,EAAE,MAAuB;QAC1C,IAAI,OAAO,GAAG,IAAI,cAAO,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAClE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,8BAA8B,CAAC,CAAC;QACzD,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,KAAK,SAAS,CAAC;YAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACzF,IAAI,OAAO,GAAG,IAAI,qBAAc,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QACvE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,MAAM,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;IACL,iBAAC;AAAD,CAnCA,AAmCC,IAAA;AAnCY,UAAU;IADtB,iBAAU,EAAE;qCAIgB,WAAI;GAHpB,UAAU,CAmCtB;AAnCY,gCAAU","file":"webapi.js","sourcesContent":["import { Injectable} from '@angular/core';\r\nimport { Headers, Http, Response, URLSearchParams, RequestOptions } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\n\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n@Injectable()\r\nexport class WebService {    \r\n    private _sessionHeaderTag = 'Azteca-sessionID';\r\n   \r\n    constructor(private http:Http, public url: string, private sessionID?:string) {\r\n        \r\n    }\r\n\r\n    query(params: URLSearchParams): Observable<Response> {\r\n        return this.http.get(this.url, { search: params });\r\n    }\r\n\r\n    getData(action: string, params: URLSearchParams): Observable<Response> {        \r\n        let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        headers.append('Accept', 'q=0.8;application/json;q=0.9');\r\n        if (this.sessionID !== undefined) headers.append(this._sessionHeaderTag, this.sessionID);\r\n        let options = new RequestOptions({ search: params, headers: headers });        \r\n        return this.http.get(this.url + '/' + action, options);\r\n    }\r\n\r\n\r\n    postData(action: string, params: URLSearchParams, body: any): Observable<Response> {\r\n        let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        headers.append('Accept', 'q=0.8;application/json;q=0.9');\r\n        if (this.sessionID !== undefined) headers.append(this._sessionHeaderTag, this.sessionID);\r\n        let options = new RequestOptions({ headers: headers, search: params });\r\n        return this.http.post(this.url + '/' + action, JSON.stringify(body), options);\r\n    }\r\n\r\n    delete(action: string, params: URLSearchParams) {\r\n        let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        headers.append('Accept', 'q=0.8;application/json;q=0.9');\r\n        if (this.sessionID !== undefined) headers.append(this._sessionHeaderTag, this.sessionID);\r\n        let options = new RequestOptions({ search: params, headers: headers });\r\n        return this.http.delete(this.url + '/' + action, options);\r\n    }\r\n}\r\n"]}