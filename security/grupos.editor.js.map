{"version":3,"sources":["kernel/security/grupos.editor.ts"],"names":[],"mappings":"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","file":"grupos.editor.js","sourcesContent":["//Frameworks\r\nimport { Component, OnInit, ViewChild, Input, forwardRef } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\n//\r\nimport { Control } from 'wijmo/wijmo';\r\n//Azteca Kernel\r\nimport { Context, BaseComponent, CatalogService } from '../index';\r\nimport { CatalogOptions } from '../custom/index';\r\nimport { AztecaValiators } from '../controls/index';\r\nimport { CatalogEditor, EditorEventArgs } from '../editors/index';\r\nimport { SearchRequest, SearchCondition } from '../search/index';\r\n//Locales\r\nimport { GrupoService, GrupoInfo, GrupoItem } from './grupo';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'security-grupos-editor',\r\n    templateUrl: './grupos.editor.html',\r\n    providers: [\r\n        {\r\n            provide: BaseComponent, useExisting: forwardRef(() => GruposEditor)\r\n        },\r\n        {\r\n            provide: CatalogService, useExisting: GrupoService\r\n        }\r\n    ]\r\n})\r\nexport class GruposEditor extends CatalogEditor {\r\n    grupo: GrupoInfo = new GrupoInfo();\r\n\r\n    constructor(protected context: Context, private router: Router, private route: ActivatedRoute, private location: Location, formBuilder: FormBuilder,\r\n        private grupoService: GrupoService) {\r\n\r\n        super(context);\r\n\r\n        this.catalogForm = formBuilder.group({\r\n            'codigo': ['', Validators.required],\r\n            'nombre': ['', Validators.required]\r\n        });\r\n\r\n    }\r\n\r\n    onConfigureCatalog(options: CatalogOptions) {\r\n        this.autogeneratedCode = options.codigoAutogenerado;\r\n    }\r\n\r\n    onCreatingItem() {\r\n\r\n    }\r\n\r\n    onViewingItem(id: number) {\r\n        this.context.app.showSpinner();\r\n\r\n        this.grupoService.getDetailByID(id)\r\n            .then(info => {\r\n                this.context.app.hideSpinner();\r\n                this.grupo = info;\r\n                this.setReadonlyMode();\r\n            })\r\n            .catch(error => this.handleError(error));\r\n    }\r\n\r\n    onCloningItem(id: number) {\r\n        this.context.app.showSpinner();\r\n        //\r\n        this.grupoService.clone(id)\r\n            .then(info => {\r\n                this.context.app.hideSpinner();\r\n                this.grupo = info;\r\n            })\r\n            .catch(error => this.handleError(error));\r\n    }\r\n\r\n    onLoadingItem(id: number) {\r\n        this.context.app.showSpinner();\r\n\r\n        this.grupoService.getDetailByID(id)\r\n            .then(info => {\r\n                this.context.app.hideSpinner();\r\n                this.grupo = info;\r\n            })\r\n            .catch(error => this.handleError(error));\r\n    }\r\n\r\n    onSavingItem(args: EditorEventArgs) {\r\n        this.context.app.showSpinner();\r\n        this.grupoService.update(this.grupo)\r\n            .then(info => {\r\n                this.context.app.hideSpinner();\r\n                this.grupo = info;\r\n                if (args.closeEditor)\r\n                    this.location.back();\r\n                else\r\n                    this.showAlert('La información ha sido actualizada con éxito', 'success');\r\n            })\r\n            .catch(error => this.handleError(error));\r\n    }\r\n\r\n    //Manejo de miembros\r\n    selectTab() {\r\n\r\n    }\r\n\r\n}\r\n"]}