<form [formGroup]="catalogForm">

    <azteca-catalog-editor #catalogEditor 
                           [title]="'Empresa'"
                           [info]="empresa"
                           [catalogForm]="catalogForm"
                           (configureCatalog)="onConfigureCatalog($event)"
                           (creatingItem)="onCreatingItem()"
                           (viewingItem)="onViewingItem($event)"
                           (cloningItem)="onCloningItem($event)"
                           (savingItem)="onSavingItem($event)"
                           (loadingItem)="onLoadingItem($event)">

        <div class="row">
            <div class="col-xs-4 col-md-2">
                <azteca-form-field>
                    <azteca-image-box formControlName="logo" [(ngModel)]="empresa.logo"></azteca-image-box>
                </azteca-form-field>                    
            </div>

            <div class="col-xs-8 col-md-8">
                <azteca-form-field [label]="'Código:'">
                    <az-textbox formControlName="codigo" [(ngModel)]="empresa.code"></az-textbox>                    
                </azteca-form-field>

                <azteca-form-field [label]="'Nombre:'">
                    <az-textbox formControlName="nombre" [(ngModel)]="empresa.nombre"></az-textbox>                    
                </azteca-form-field>

            </div>
        </div>

        
        <div class="row">
            <div class="col-xs-10">
                <tabset>
                    <tab heading="Domicilio">

                        <div class="row">
                            <div class="col-xs-10 col-md-8">

                                <azteca-form-field [label]="'Calle:'">
                                    <az-textbox formControlName="calle" [(ngModel)]="empresa.calle"></az-textbox>
                                </azteca-form-field>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-5 col-md-4">
                                <azteca-form-field [label]="'Número Exterior:'">
                                    <az-textbox formControlName="numExt" [(ngModel)]="empresa.numExt"></az-textbox>                                    
                                </azteca-form-field>
                            </div>
                            <div class="col-xs-5 col-md-4">
                                <azteca-form-field [label]="'Número Interior:'">
                                    <az-textbox formControlName="numInt" [(ngModel)]="empresa.numInt"></az-textbox>
                                </azteca-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-10 col-md-8">

                                <azteca-form-field [label]="'Colonia:'">
                                    <az-textbox formControlName="colonia" [(ngModel)]="empresa.colonia"></az-textbox>                                    
                                </azteca-form-field>

                                <azteca-form-field [label]="'Población:'">
                                    <poblacion-selector formControlName="poblacion" [(ngModel)]="empresa.idPoblacion"></poblacion-selector>
                                </azteca-form-field>
                                    
                            </div>
                        </div>

                    </tab>
                    <tab heading="Sucursales" [disabled]="empresa.identity == 0" (select)="selectSucursalesTab()">
                        <azteca-sucursales-manager #sites
                                                   [name]="'sucursales'"                                                   
                                                   [idEmpresa]="empresa.identity">
                        </azteca-sucursales-manager>
                    </tab>
                </tabset>
            </div>
        </div>
            

    </azteca-catalog-editor>
</form>
