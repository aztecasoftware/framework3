{"version":3,"sources":["kernel/security/empresa.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,YAAY;AACZ,sCAA2C;AAC3C,sCAAyE;AAEzE,uCAAqC;AACrC,eAAe;AACf,sCAAqC;AACrC,wCAAuE;AAGvE,wCAA2C;AAE3C,yFAAyF;AAEzF;IAAiC,+BAAW;IAWxC;QAAA,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,IAAI,GAAG,IAAI,eAAQ,EAAE,CAAC;;IAC/B,CAAC;IACL,kBAAC;AAAD,CAfA,AAeC,CAfgC,sBAAW,GAe3C;AAfY,kCAAW;AAiBxB;IAAA;IAMA,CAAC;IAAD,kBAAC;AAAD,CANA,AAMC,IAAA;AANY,kCAAW;AAQxB,2FAA2F;AAE3F,IAAa,cAAc;IAAS,kCAA2B;IAC3D,wBAAY,IAAU,EAAE,OAAgB;eACpC,kBAAM,IAAI,EAAE,OAAO,EAAE,8BAA8B,CAAC;IACxD,CAAC;IAED,+BAAM,GAAN;QACI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,WAAW,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,uCAAc,GAAd,UAAe,SAAiB;QAC5B,IAAI,MAAM,GAAoB,IAAI,sBAAe,EAAE,CAAC;QACpD,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,EAAE,MAAM,CAAC;aACpD,GAAG,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,IAAI,EAAoB,EAAjC,CAAiC,CAAC;aAClD,SAAS,EAAE,CAAC;IACrB,CAAC;IACL,qBAAC;AAAD,CAhBA,AAgBC,CAhBmC,yBAAc,GAgBjD;AAhBY,cAAc;IAD1B,iBAAU,EAAE;qCAES,WAAI,EAAW,iBAAO;GAD/B,cAAc,CAgB1B;AAhBY,wCAAc","file":"empresa.js","sourcesContent":["//Frameworks\r\nimport { Injectable } from '@angular/core';\r\nimport { Headers, Http, Response, URLSearchParams } from '@angular/http';\r\nimport { Observable } from 'rxjs/Rx';\r\nimport 'rxjs/add/operator/toPromise';\r\n//Azteca Kernel\r\nimport { Context } from '../context';\r\nimport { CatalogInfo, CatalogItem, CatalogService } from '../entities';\r\n//Locales\r\nimport { SucursalItem } from './sucursal';\r\nimport { FileInfo } from '../general/file';\r\n\r\n//////////////////////////// MODELS /////////////////////////////////////////////////////\r\n\r\nexport class EmpresaInfo extends CatalogInfo {\r\n    nombre: string;\r\n    nombreLargo: string;\r\n    logo: FileInfo;\r\n    calle: string;\r\n    numExt: string;\r\n    numInt: string;\r\n    colonia: string;\r\n    cp: string;\r\n    idPoblacion: number;\r\n\r\n    constructor() {\r\n        super();\r\n        this.logo = new FileInfo();\r\n    }\r\n}\r\n\r\nexport class EmpresaItem implements CatalogItem {\r\n    id: number;\r\n    codigo: string;\r\n    nombre: string;\r\n    activo: boolean;\r\n    estatus?: string;\r\n}\r\n\r\n//////////////////////////// SERVICES /////////////////////////////////////////////////////\r\n@Injectable()\r\nexport class EmpresaService extends CatalogService<EmpresaInfo> {\r\n    constructor(http: Http, context: Context) {\r\n        super(http, context, \"api/kernel/security/empresas\");\r\n    }\r\n\r\n    create(): Promise<EmpresaInfo> {\r\n        return Promise.resolve(new EmpresaInfo());\r\n    }\r\n\r\n    loadSucursales(idEmpresa: number): Promise<SucursalItem[]> {\r\n        let params: URLSearchParams = new URLSearchParams();\r\n        params.set(\"idEmpresa\", idEmpresa.toString());\r\n        return this.apiService.getData(\"load-sucursales\", params)\r\n            .map(response => response.json() as SucursalItem[])\r\n            .toPromise();\r\n    }\r\n}\r\n\r\n"]}