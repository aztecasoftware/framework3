{"version":3,"sources":["../../Scripts/app/kernel/controls/catalog-selector.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAAsH;AACtH,EAAE;AACF,6DAA4D;AAC5D,mCAAqC;AAIrC,sCAAqC;AACrC,2DAAoE;AACpE,oDAAkD;AAClD,wCAAuE;AAOvE,IAAa,wBAAwB;IAqBjC,kCAA2B,OAAgB;QAAhB,YAAO,GAAP,OAAO,CAAS;QApB3C,gBAAW,GAAgB,IAAI,CAAC;QAChC,EAAE;QACO,YAAO,GAAY,IAAI,CAAC;QACxB,YAAO,GAAY,IAAI,CAAC;QACxB,iBAAY,GAAgB,IAAI,CAAC;QACjC,iBAAY,GAAW,EAAE,CAAC;QAM1B,gBAAW,GAAS,oBAAoB,CAAC;QAClD,EAAE;QACQ,oBAAe,GAAgC,IAAI,mBAAY,EAAiB,CAAC;QACjF,wBAAmB,GAA8B,IAAI,mBAAY,EAAe,CAAC;IAQ3F,CAAC;IAED,iDAAc,GAAd;QACI,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;QACvB,IAAI,OAAO,GAAkB,IAAI,8BAAa,EAAE,CAAC;QACjD,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;QACtB,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACjC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,KAAK,CAAC;QAC/C,EAAE;QACF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,iDAAc,GAAd;QACI,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;IAED,yDAAsB,GAAtB,UAAuB,OAAsB;QACzC,0CAA0C;QAC1C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IAED,4DAAyB,GAAzB,UAA0B,IAAiB;QACvC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,6CAAU,GAAV,UAAW,IAAiB;QACxB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,cAAc,EAAE,CAAC;IAC1B,CAAC;IAED,wCAAK,GAAL;QACI,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,kDAAe,GAAf;QACI,KAAK,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC;IAClC,CAAC;IACL,+BAAC;AAAD,CA7DA,AA6DC,IAAA;AA1DY;IAAR,YAAK,EAAE;;yDAAyB;AACxB;IAAR,YAAK,EAAE;;yDAAyB;AACxB;IAAR,YAAK,EAAE;8BAAe,sBAAW;8DAAQ;AACjC;IAAR,YAAK,EAAE;;8DAA2B;AAC1B;IAAR,YAAK,EAAE;;6DAA4B;AAC3B;IAAR,YAAK,EAAE;;4DAAqB;AACpB;IAAR,YAAK,EAAE;;2DAAmB;AAClB;IAAR,YAAK,EAAE;;0DAAkB;AACjB;IAAR,YAAK,EAAE;;2DAAmB;AAClB;IAAR,YAAK,EAAE;;6DAA0C;AAExC;IAAT,aAAM,EAAE;8BAAkB,mBAAY;iEAAoD;AACjF;IAAT,aAAM,EAAE;8BAAsB,mBAAY;qEAAgD;AAElE;IAAxB,gBAAS,CAAC,YAAY,CAAC;8BAAa,8BAAc;4DAAC;AACvB;IAA5B,sBAAe,CAAC,wBAAU,CAAC;8BAAU,gBAAS;yDAAa;AAlBnD,wBAAwB;IALpC,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,yBAAyB;QACnC,WAAW,EAAE,mCAAmC;KACnD,CAAC;qCAsBsC,iBAAO;GArBlC,wBAAwB,CA6DpC;AA7DY,4DAAwB","file":"catalog-selector.component.js","sourcesContent":["import { Component, Input, Output, ViewChild, ContentChildren, OnInit, EventEmitter, QueryList } from '@angular/core';\r\n//\r\nimport { ModalDirective } from 'ng2-bootstrap/ng2-bootstrap'\r\nimport * as wijmo from 'wijmo/wijmo';\r\n//\r\nimport { BaseControl } from './base-control';\r\nimport { BaseComponent } from '../base-component';\r\nimport { Context } from '../context';\r\nimport { SearchRequest, SortOrder } from '../search/search-request';\r\nimport { GridColumn } from '../utils/grid-column';\r\nimport { CatalogInfo, CatalogItem, CatalogService } from '../entities';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'azteca-catalog-selector',\r\n    templateUrl: './catalog-selector.component.html'    \r\n})\r\nexport class CatalogSelectorComponent {            \r\n    selectedRow: CatalogItem = null;\r\n    //\r\n    @Input() enabled: boolean = true;\r\n    @Input() visible: boolean = true;\r\n    @Input() selectedItem: CatalogInfo = null;\r\n    @Input() displayValue: string = \"\";\r\n    @Input() catalogList: CatalogItem[];\r\n    @Input() serverSide: boolean;\r\n    @Input() pageIndex: number;\r\n    @Input() pageSize: number;\r\n    @Input() totalRows: number;\r\n    @Input() dialogTitle: string=\"Lista del cat√°logo\";\r\n    //\r\n    @Output() searchRequested: EventEmitter<SearchRequest> = new EventEmitter<SearchRequest>();\r\n    @Output() selectedItemChanged: EventEmitter<CatalogItem> = new EventEmitter<CatalogItem>();\r\n    //\r\n    @ViewChild('listDialog') listDialog: ModalDirective;\r\n    @ContentChildren(GridColumn) columns: QueryList<GridColumn>;\r\n\r\n\r\n    public constructor(private context: Context) {\r\n     \r\n    }\r\n\r\n    showListDialog() {\r\n        this.listDialog.config.backdrop = false;\r\n        this.listDialog.show();\r\n        let request: SearchRequest = new SearchRequest();\r\n        request.pageIndex = 0;\r\n        request.pageSize = this.pageSize;\r\n        request.paged = this.serverSide ? true : false;\r\n        //\r\n        this.searchRequested.next(request);        \r\n    }\r\n\r\n    hideListDialog() {\r\n        this.listDialog.hide();\r\n    }\r\n\r\n    searchRequestedHandler(request: SearchRequest) {\r\n        //Redireccionar request a componente padre\r\n        this.searchRequested.next(request);\r\n    }\r\n\r\n    currentItemChangedHandler(item: CatalogItem) {\r\n        this.selectedRow = item;        \r\n    }\r\n\r\n    selectItem(item: CatalogItem) {        \r\n        this.selectedItemChanged.next(item);\r\n        this.hideListDialog();\r\n    }\r\n\r\n    clear() {\r\n        this.selectedItemChanged.next(null);\r\n    }\r\n\r\n    refreshControls() {\r\n        wijmo.Control.invalidateAll();\r\n    }\r\n}"]}